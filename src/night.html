<!DOCTYPE html>
<html lang="en">

<head>
  @@include('layout/head.html', { "title": "夜宿訂票" })
</head>

<body>
  <div class="night-wrapper" id="night-wrapper">
    @@include('layout/nav.html',{ 'active4': 'active' })
    <main id="main">
      <div class="title">
        <h2>夜宿體驗</h2>
      </div>
      <ul class="tab">
        <li class="tab-ticket">
          <a href="ticket.html">
            <i class="fa-solid fa-ticket"></i>
            <p>預約訂票</p>
          </a>
        </li>
        <li class="tab-bed active">
          <a href="night.html">
            <i class="fa-solid fa-bed"></i>
            <p>預訂夜宿</p>
          </a>
        </li>
      </ul>

      <!-- 選擇日期 -->
      <section class="content-wrapper">
        <div class="container">
          <h2>選擇預訂日期</h2>
          <!-- 日曆顏色說明 -->
          <div class="state_color_list">
            <div class="active_color_item">
              <div class="circle"></div>
              <p>進行中</p>
            </div>
            <div class="full_color_item">
              <div class="circle"></div>
              <p>已額滿</p>
            </div>
          </div>
          <!-- 日曆 -->
          <div class="b_area_calendar">
            <div class="date_title">
              <button @click="adjustMonth(-1)">
                <i class="fas fa-angle-left"></i> </button>
              <h1>{{calendar.year}} 年 {{calendar.month+1}} 月</h1>
              <button @click="adjustMonth(1)">
                <i class="fas fa-angle-right"></i>
              </button>
            </div>

            <!-- <button @click="adjustYear(-1)">上一年</button> -->
            <!-- <button @click="setToday">今天</button> -->
            <!-- <button @click="adjustYear(1)">下一年</button> -->

            <div class="b_area_weekDay">
              <div>日</div>
              <div>一</div>
              <div>二</div>
              <div>三</div>
              <div>四</div>
              <div>五</div>
              <div>六</div>
            </div>

            <div class="b_area_week" v-for="i in 6">
              <div class="day" v-for="j in 7" :data-date="calendarMonth[(i-1)*7+j-1].date" :class="{
                            b_area_today:calendarMonth[(i-1)*7+j-1].year === today.year && calendarMonth[(i-1)*7+j-1].month === today.month && calendarMonth[(i-1)*7+j-1].date === today.date,
                            b_area_other:calendarMonth[(i-1)*7+j-1].month !== calendar.month
                      }"
                @click="edit(calendarMonth[(i-1)*7+j-1].year,(calendarMonth[(i-1)*7+j-1].month)+1,calendarMonth[(i-1)*7+j-1].date)">
                <div class="b_area_booking_status" :data-date="calendarMonth[(i-1)*7+j-1].date">進行中</div>
                <div class="b_area_circle_status active" :data-date="calendarMonth[(i-1)*7+j-1].date"></div>
              </div>
            </div>

          </div>
        </div>




        <!-- 裝飾 -->
        <div class="deco">
          <img class="nig-fish" src="img/nig_fish.png" alt="" />
          <img class="nig-grass" src="img/nig_grass.png" alt="" />
          <img class="nig-deco" src="img/nig_deco.png" alt="" />
        </div>
      </section>

      <!-- modal 選擇區域 -->
      <transition>
        <div class="modal" v-if="current_edit !== null">
          <div class="modal-content">
            <!-- 選擇日期 -->
            <div class="date">
              {{current_edit}}
              <span class="close" @click="f_out">
                <i class="fas fa-times-circle"></i>
              </span>
            </div>
            <h4>選擇夜宿區域</h4>
            <!-- 卡片區 -->
            <ul id="ticket-type">
              <template v-for="item in area">
                <li>
                  <a :href="'night_detail.php?id=' +item.area_id">
                    <!-- 要補上綁定img -->
                    <img class="ticket-top" src="img/intro-pic-01.png" alt="">
                    <div class="ticket-bottom">
                      <h4>{{item.names}}</h4>
                      <p class="num">剩餘 {{item.bed_count}} 位</p>
                    </div>
                  </a>
                </li>
              </template>
            </ul>
          </div>
        </div>
      </transition>

    </main>

  </div>
  <footer>
    <div class="footer_wrapper">
      <!-- wave -->
      <div class="ocean">
        <div class="wave"></div>
        <div class="wave"></div>
        <div class="wave"></div>
      </div>

      <div class="follow_icon">
        <a href="#" target="_blank">
          <i class="fab fa-facebook-square"></i>
        </a>
        <a href="#" target="_blank">
          <i class="fab fa-youtube"></i>
        </a>
        <a href="#" target="_blank">
          <i class="fab fa-instagram"></i>
        </a>
      </div>
      <div class="content">
        <h5>電話：(02)-2712-0589</h5>
        <h5>地址：台北市中山區南京東路三段219號</h5>
        <p>本網站為緯育TibaMe前端設計工程師班第70期學員專題作品，本平台僅供學習、展示之用</p>
      </div>
    </div>
  </footer>
  <!-- 引入axios -->
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  <script src="js/nav.js"></script>

  <script src="js/night.js"></script>
</body>

</html>